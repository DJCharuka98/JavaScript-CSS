<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>All abiut await + Async</title>
    </head>
    <body>
        <script>
            /* eslint-disable */
             function breathe(amount) {
               return new Promise((resolve, reject) => {
                 if (amount < 500) {
                   reject('Time less than 500');
                  }
                setTimeout(() => resolve(`Done for ${amount} ms`), amount);
              });
            }

            function catchError(fn) {
                return function(...args) {
                   return fn(...args).catch((err) => {
                       console.error('Ohhh Nooo!');
                       console.error(err);
                       
                   })
                }               
            }

            async function go(first, last) {
              
                 console.log(`Starting ${first} ${last} !!!`);
                const res = await breathe(1000);
                console.log(res);
                const res1 = await breathe(600);
                console.log(res1);
                const res2 = await breathe(2000);
                console.log(res2);
                const res3 = await breathe(400);
                console.log(res3);
                const res4 = await breathe(700);
                console.log(res4);
                const res5 = await breathe(900);
                console.log(res5);
                console.log('end!')

              
                }
              
            

            const wrappedFunction = catchError(go);
            wrappedFunction('Wes', 'Bos');
        </script>
    </body>
</html>